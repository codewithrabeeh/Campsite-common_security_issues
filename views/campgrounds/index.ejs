<% layout('layouts/boilerplate') %>
<div class=" " id="cluster-map"></div>
    
    <div class="ms-4">
        <h1 class="mt-3">All Campgrounds</h1>
    <a href="/campgrounds/new"><button class="btn mb-2" style="background-color: #2BAE66FF; color: white;">Create A New Campground</button></a>

    </div>
       
    <div class="row d-flex mt-3 gap-5 flex-wrap justify-content-around mb-5">
        <% for (let campground of campgrounds){ %> 
    
            <div class="col-md-4" style="height:auto; width:300px;">
               <% if(campground.images.length){ %>
                <div class="card border-0 rounded-3" style="background-color: #FCF6F5FF;">
                    <img src="<%= campground.images[0].url %> " class="img-fluid" style="height:200px; width:auto;">
                <% } else { %>
                    <img class="img-fluid" src="https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/camping-quotes-1556677391.jpg?crop=1.00xw:0.855xh;0,0.0384xh&resize=1200:*" alt="">
                <% } %>
                <div class="card-body">
                    <h5 class="card-title"> <%= campground.title %> </h5>
                    <p class="card-text"><%= campground.description.substring(0,75) + '...' %> </p>                            
                    <p class="small-text">
                        <small class="text-muted"><%= campground.location %> </small>
                    </p>
                    <a href="/campgrounds/<%= campground._id %> " class="btn" style="background-color: #2BAE66FF; color: white;">View <%= campground.title %> </a>
                </div>
                </div>
                
            </div>
    
<% } %> 
    </div>
       

        <script>
            const mapToken = '<%-process.env.MAPBOX_TOKEN%>';    
            const campgrounds = {features: <%-JSON.stringify(campgrounds)%>}   
            


        </script>

        <script src="/javascripts/clusterMap.js"></script>

        